class AutocompleteCustom{get options(){return{}}constructor(t,e,s={}){this.settings=Object.assign(this.options,s),this._searchInputId=t,this._searchResultsId=e,this._init(),this._addListeners(),this._autoComplete}_init(){this._extendProps(),this._autoComplete=new autoComplete(this.settings)}_extendProps(){this.settings.selector="#"+this._searchInputId,this.settings.resultsList=this.settings.resultsList||{render:!0,container:t=>{t.classList.add("autocomplete-results"),t.classList.add("dropdown-menu"),t.setAttribute("id",this._searchResultsId)},destination:document.getElementById(this._searchInputId),position:"afterend",element:"div"},this.settings.resultItem=this.settings.resultItem||{content:(t,e)=>{e.innerHTML=t.match,e.setAttribute("class","auto-complete-result-item dropdown-item")},element:"a"},this.settings.noResults=this.settings.noResults||(()=>{const t=document.createElement("div");t.setAttribute("class","text-center"),t.setAttribute("tabindex","1"),t.innerHTML="No Results",document.getElementById(this._searchResultsId).appendChild(t)}),this.settings.onSelection=this.settings.onSelection||(t=>{document.getElementById(this._searchInputId).value=t.selection.value||t.selection.value.label,document.getElementById(this._searchInputId).blur()})}_addListeners(){document.getElementById(this._searchInputId).addEventListener("focus",this._onInputFocus.bind(this)),document.getElementById(this._searchInputId).addEventListener("focusout",this._onInputFocusOut.bind(this))}_onInputFocus(){document.getElementById(this._searchInputId).addEventListener("keydown",this._onKeyDown.bind(this)),document.getElementById(this._searchInputId).addEventListener("keyup",this._onKeyUp.bind(this)),this._onKeyUp()}_onInputFocusOut(){document.getElementById(this._searchInputId).removeEventListener("keydown",this._onKeyDown.bind(this)),document.getElementById(this._searchInputId).removeEventListener("keyup",this._onKeyUp.bind(this)),this._hideResults()}_onKeyDown(t){38!==t.which&&40!==t.which||t.preventDefault()}_onKeyUp(){const t=document.getElementById(this._searchResultsId);t.querySelector("a")||t.querySelector("div")?this._showResults():this._hideResults()}_showResults(){document.getElementById(this._searchResultsId).classList.add("show")}_hideResults(){document.getElementById(this._searchResultsId).classList.remove("show")}get autoComplete(){return this._autoComplete}}